

The paper discusses the design principles and features of Zag Smalltalk, a from-scratch implementation of Smalltalk. It is low-level implemented in Zig and its goal is to support existing OpenSmalltalk systems. Zag Smalltalk has 64-bit immediates, including double FP, 51-bit SmallInteger, true, false, nil, Symbols, Unicode chars, and heap-object reference. It also has multi-core support, with computational/mutator threads typically 1 per core and I/O threads one per open I/O port. It has a global collector thread for non-moving mark/sweep arena and a linked-freelist heap for large objects. It also has a unified dispatch, single level of hashing for method dispatch, and high performance inlining. Code generation is done through threaded-execution, JIT, and stand-alone generator. Memory management is also discussed, including heap objects, global collector, and context. Results of running 40 fibonacci are also provided.

The paper concludes that Zag Smalltalk has good performance and potential applications. It is able to support existing OpenSmalltalk systems and has 64-bit immediates, multi-core support, a global collector thread, a linked-freelist heap, a unified dispatch, single level of hashing for method dispatch, and high performance inlining. Code generation is done through threaded-execution, JIT, and stand-alone generator. Memory management is also discussed, including heap objects, global collector, and context. Results of running 40 fibonacci are also provided.
